<div style="max-width: 600px; margin: auto; padding: 1rem; border-radius: 1rem; background: #f8f8f8; box-shadow: 0 0 8px #ccc;">
  <h2 style="text-align: center;">Find Service Provider</h2>

  <input [(ngModel)]="city" placeholder="Enter City" class="form-control" style="margin-bottom: 1rem;" />

  <select [(ngModel)]="profession" class="form-control" style="margin-bottom: 1rem;">
    <option value="">Select Profession</option>
    <option value="Cleaner">Cleaner</option>
    <option value="Electrician">Electrician</option>
    <option value="Plumber">Plumber</option>
    <!-- Add more as needed -->
  </select>

  <button (click)="findServiceProvider()" class="btn btn-primary btn-block">Find Service Provider</button>
</div>

<div *ngIf="providers.length > 0" style="margin: 2rem auto; max-width: 90%;">
  <h4>Available Service Providers</h4>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Photo</th>
        <th>Name</th>
        <th>Contact No</th>
        <th>Address</th>
        <th>City</th>
        <th>Description</th>
        <th>Profession(s)</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let provider of providers">
        <td>
          <img *ngIf="provider.photoPath" [src]="'http://localhost:8080/api/providers/photos/' + provider.photoPath"
               alt="Provider Photo" width="50" height="50">
        </td>
        <td>{{ provider.name }}</td>
        <td>{{ provider.contactNo }}</td>
        <td>{{ provider.address }}</td>
        <td>{{ provider.city }}</td>
        <td>{{ provider.description }}</td>
        <td>
          <span *ngFor="let prof of provider.professions">
            <ng-container *ngIf="prof.name.toLowerCase() === profession.toLowerCase()">
              {{ prof.name }}
            </ng-container>
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="providers.length === 0" style="text-align: center; margin-top: 2rem;">
  <p>No service providers found for the selected city and profession.</p>
</div>
